{% set matrix = tileTypeToMatrix(tile.type) %}
{% set degrees = tile.direction * 90 %}
{% set position = fromBoardReferentialToDisplay([tile.x,tile.y]) %}
{% set treasures = ['💌','💣','🛍','📿','🔭','💎','💰','📜','🗿','🏺','🔫',
    '🛡','💈','🛎','⌛','🌡','⛱','🎈','🎎','🎁','🔮','📷','🕯'] %}
<div class="tile-grid"
     style="grid-column: {{ position[0] }} ; grid-row: {{ position[1] }};
             transform: rotate({{ degrees }}deg)">
    {% for raw in matrix %}
        {% set y = loop.index0 %}
        {% for isWall in raw %}
            {% set x = loop.index0 %}
            {% set source = asset('images/' ~ (isWall ? 'bricks32' : 'stones32') ~ '.png') %}
            <div class="tile-asset" style="grid-column: {{ x+1 }} ; grid-row: {{ y+1 }}">
                <img class="tile-image" src="{{ source }}"/>
            </div>
        {% endfor %}
    {% endfor %}
    {% if tile.target %}
        <div class="tile-asset" style="grid-column: {{ 2 }} ; grid-row: {{ 2 }}">
            {{ treasures[tile.target - 1] }}
        </div>
    {% endif %}
</div>
